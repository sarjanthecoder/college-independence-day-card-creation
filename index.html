<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0" />
    <title>Independence Day | Create Your Card</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700;800&family=Merienda:wght@700&family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
  <link rel="icon" type="image/png" href="/favicon1.png">

    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>

    <style>
        :root {
            --saffron: #ff9933;
            --green: #138808;
            --chakra: #0a5bde;
            --glass: rgba(255, 255, 255, 0.12);
            --glassDeep: rgba(255, 255, 255, 0.18);
            --ink: #1f2937;
            --light: #ffffff;
            --brandBlue: #0072ff;
        }

        /* General Body Styles */
        body {
            margin: 0;
            font-family: 'Poppins', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            background: url('lokesh.jpg') no-repeat center center fixed;
            background-size: cover;
            color: var(--light);
        }

        /* Scrollbar styles (optional but nice) */
        * {
            scrollbar-width: thin;
            scrollbar-color: var(--saffron) rgba(0,0,0,0.3);
        }
        *::-webkit-scrollbar {
            width: 8px;
        }
        *::-webkit-scrollbar-track {
            background: rgba(0,0,0,0.3);
        }
        *::-webkit-scrollbar-thumb {
            background-color: var(--saffron);
            border-radius: 10px;
        }


        /* Header */
        .app-header {
            position: fixed;
            inset: 0 0 auto 0;
            height: 64px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 18px;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            background: linear-gradient(90deg, rgba(255,153,51,0.18), rgba(255,255,255,0.06), rgba(19,136,8,0.18));
            border-bottom: 1px solid rgba(255,255,255,0.28);
            z-index: 20;
        }
        .brand {
            font-family: 'Baloo 2', cursive;
            font-weight: 800;
            letter-spacing: 0.5px;
            font-size: 1.25rem;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: linear-gradient(90deg, var(--saffron), #ffffff, var(--green));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 16px rgba(0,0,0,0.25);
        }
        .brand .flag {
            font-size: 1.4rem;
            filter: drop-shadow(0 2px 6px rgba(0,0,0,0.3));
        }
        .nav-mini {
            display: inline-flex;
            gap: 10px;
            font-weight: 600;
            font-size: 0.95rem;
            opacity: 0.9;
        }

        /* Footer */
        .app-footer {
            /* Changed from fixed to relative to be at the bottom of the page content */
            position: relative;
            margin-top: 40px; /* Space above the footer */
            height: 56px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            background: linear-gradient(90deg, rgba(19,136,8,0.18), rgba(255,255,255,0.06), rgba(255,153,51,0.18));
            border-top: 1px solid rgba(255,255,255,0.28);
            z-index: 20;
            font-weight: 700;
            letter-spacing: 0.3px;
            color: #f7fafc;
            text-shadow: 0 1px 10px rgba(0,0,0,0.35);
        }
        .app-footer .heart { color: #ff5a6e; }
        .app-footer .jaihind {
            margin-left: 8px;
            font-family: 'Merienda', cursive;
            background: linear-gradient(90deg, var(--saffron), #ffffff, var(--green));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Hero section */
        .hero {
            position: relative;
            height: 100vh; /* Takes full screen height */
            width: 100%;
            display: grid;
            place-items: center;
            text-align: center;
            padding: 90px 16px 76px;
            box-sizing: border-box;
            overflow: hidden; /* Hide balloons from overflowing this section */
        }

        .hero-inner {
            max-width: min(92vw, 900px);
            display: grid;
            gap: 18px;
            justify-items: center;
            position: relative;
            z-index: 1;
        }

        .hello {
            font-family: 'Baloo 2', cursive;
            font-size: clamp(36px, 6vw, 72px);
            line-height: 1.05;
            letter-spacing: 0.5px;
            margin: 0;
            background: linear-gradient(90deg, var(--saffron) 0%, #ffffff 50%, var(--green) 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 26px rgba(0,0,0,0.28);
            animation: glow 3.2s ease-in-out infinite;
        }
        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 10px rgba(255,153,51,0.25)); }
            50% { filter: drop-shadow(0 0 16px rgba(19,136,8,0.35)); }
        }

        .tagline {
            font-size: clamp(16px, 2.6vw, 22px);
            font-weight: 700;
            opacity: 0.95;
            text-shadow: 0 0 12px rgba(0,0,0,0.35);
            margin-top: -6px;
        }

        .cta {
            margin-top: 10px;
            padding: 14px 22px;
            border-radius: 14px;
            font-size: clamp(16px, 3.5vw, 18px);
            font-weight: 800;
            letter-spacing: 0.3px;
            border: 0;
            color: #1a202c;
            background: linear-gradient(90deg, var(--saffron) 0%, #ffffff 50%, var(--green) 100%);
            cursor: pointer;
            transition: transform .18s ease, box-shadow .18s ease, color .18s ease;
            box-shadow: 0 10px 30px rgba(0,0,0,0.24), inset 0 0 0 2px rgba(255,255,255,0.35);
            backdrop-filter: blur(4px);
            -webkit-backdrop-filter: blur(4px);
        }
        .cta:hover { transform: translateY(-2px) scale(1.02); color: var(--brandBlue); }
        .cta:active { transform: translateY(1px) scale(0.99); }

        /* Floating balloons (tri-colour) */
        .balloons {
            position: absolute;
            inset: 0;
            overflow: hidden;
            z-index: 0;
            pointer-events: none;
        }
        .balloon {
            position: absolute;
            bottom: -15vh;
            width: 34px;
            height: 46px;
            border-radius: 50% 50% 48% 48% / 60% 60% 40% 40%;
            background:
                radial-gradient(120% 80% at 30% 25%, rgba(255,255,255,0.65), transparent 45%),
                linear-gradient(to bottom, var(--saffron) 0 33%, #ffffff 33% 66%, var(--green) 66% 100%);
            box-shadow: 0 10px 20px rgba(0,0,0,0.25);
            opacity: 0.92;
            animation: floatUp linear infinite;
        }
        .balloon::after {
            content: "";
            position: absolute;
            left: 50%;
            top: 100%;
            width: 2px;
            height: 40px;
            background: rgba(255,255,255,0.65);
            transform: translateX(-50%);
            filter: drop-shadow(0 0 2px rgba(0,0,0,0.5));
        }
        @keyframes floatUp {
            0% { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
            5% { opacity: 1; }
            100% { transform: translateY(-130vh) translateX(-20px) rotate(6deg); opacity: 0.95; }
        }
        .b1 { left: 8%; animation-duration: 13s; animation-delay: 0.3s; transform: scale(1.0); }
        .b2 { left: 22%; animation-duration: 16s; animation-delay: 1.0s; transform: scale(1.2); }
        .b3 { left: 38%; animation-duration: 12s; animation-delay: 0.6s; transform: scale(0.9); }
        .b4 { left: 52%; animation-duration: 18s; animation-delay: 1.5s; transform: scale(1.15); }
        .b5 { left: 66%; animation-duration: 14s; animation-delay: 0.9s; transform: scale(1.0); }
        .b6 { left: 80%; animation-duration: 17s; animation-delay: 0.4s; transform: scale(0.95); }
        .b7 { left: 12%; animation-duration: 19s; animation-delay: 1.8s; transform: scale(1.1); }
        .b8 { left: 72%; animation-duration: 15s; animation-delay: 1.2s; transform: scale(0.88); }

        /* Modal overlay */
        .modal {
            position: fixed;
            inset: 0;
            display: none;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.35);
            backdrop-filter: blur(2px);
            -webkit-backdrop-filter: blur(2px);
            z-index: 50;
        }
        .modal.show { display: flex; animation: fadeIn 220ms ease; }
        @keyframes fadeIn {
            from { opacity: 0; } to { opacity: 1; }
        }

        .card {
            position: relative;
            width: min(92vw, 420px);
            max-height: 90vh;
            overflow-y: auto;
            border-radius: 24px;
            padding: 24px 18px 18px;
            background: var(--glassDeep);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            box-shadow:
                0 18px 40px rgba(44, 62, 80, 0.35),
                0 0 0 4px var(--saffron),
                0 0 0 8px rgba(19,136,8,0.24);
            color: #242424;
            text-align: center;
            animation: popIn 280ms ease;
        }
        @keyframes popIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .close-x {
            position: absolute;
            right: 12px;
            top: 8px;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: grid;
            place-items: center;
            color: #1f2937;
            font-weight: 800;
            font-size: 18px;
            cursor: pointer;
            background: rgba(255,255,255,0.55);
            border: 2px solid rgba(0,0,0,0.1);
            transition: transform .15s ease;
        }
        .close-x:hover { transform: rotate(6deg) scale(1.05); }

        .emoji-flag {
            font-size: 2.3rem;
            margin-bottom: 4px;
            display: inline-block;
            filter: drop-shadow(0 2px 7px rgba(0,0,0,0.25));
            animation: swing 2s infinite alternate ease-in-out;
        }
        @keyframes swing { 0% { transform: rotate(-7deg); } 100% { transform: rotate(7deg); } }

        .form-title {
            margin: 4px 0 10px;
            font-family: 'Baloo 2', cursive;
            font-weight: 800;
            letter-spacing: 2px;
            font-size: 1.9rem;
            background: linear-gradient(90deg, var(--saffron), #ffffff 60%, var(--green));
            color: transparent;
            -webkit-background-clip: text;
            background-clip: text;
            text-shadow: 0 0 18px rgba(0,0,0,0.1);
        }

        .tricolor-divider {
            width: 62%;
            height: 6px;
            margin: 10px auto 18px;
            border-radius: 5px;
            background: linear-gradient(90deg, var(--saffron) 0%, #ffffff 45%, var(--green) 98%);
            box-shadow: 0 4px 16px rgba(0,0,0,0.25);
        }

        form { width: 100%; text-align: left; }

        label {
            display: block;
            margin: 6px 0 4px 4px;
            font-size: 0.95rem;
            font-weight: 700;
            color: #1f2937;
        }
        input {
            width: 100%;
            padding: 12px 13px;
            margin-bottom: 10px;
            border-radius: 12px;
            border: none;
            background: rgba(255, 255, 255, 0.6);
            color: #111827;
            font-size: 1rem;
            box-shadow: inset 2px 2px 7px rgba(255,255,255,0.45);
            transition: background .2s, box-shadow .2s, outline-color .2s;
        }
        input::placeholder { color: #6b7280; font-style: italic; }
        input:focus {
            outline: 2px solid var(--brandBlue);
            background: rgba(255,255,255,0.85);
            box-shadow: 0 0 10px rgba(0,245,255,0.55);
        }

        .submit-btn {
            width: 100%;
            padding: 14px;
            margin: 12px 0 2px 0;
            border-radius: 13px;
            border: none;
            background: linear-gradient(90deg, var(--saffron) 0%, #fff 46%, var(--green) 97%);
            color: #222;
            font-weight: 800;
            font-size: 1.06rem;
            cursor: pointer;
            transition: transform .16s ease, color .16s ease;
            box-shadow: 0 0 14px rgba(0,245,255,0.25);
        }
        .submit-btn:hover { transform: scale(1.03); color: var(--brandBlue); }

        .toggle-link {
            margin-top: 10px;
            color: var(--saffron);
            font-weight: 800;
            cursor: pointer;
            font-size: 0.98rem;
            letter-spacing: 0.02em;
            text-decoration: underline;
            text-align: center;
        }
        .toggle-link:hover { color: var(--green); }

        .indicator {
            margin-top: 10px;
            font-size: 1.02rem;
            font-weight: 700;
            min-height: 20px;
            color: var(--brandBlue);
            text-shadow: 0 0 12px rgba(255,255,255,0.7);
            word-break: break-word;
            text-align: center;
        }
        
        /* ======== NEW STYLES FOR SCROLLABLE CONTENT ======== */
        .content-section {
            padding: 60px 24px;
            background: rgba(10, 25, 47, 0.8); /* A semi-transparent dark blue */
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            text-align: center;
            max-width: 900px;
            margin: 40px auto; /* Centered with vertical margin */
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .section-title {
            font-family: 'Baloo 2', cursive;
            font-size: clamp(28px, 5vw, 42px);
            margin-bottom: 15px;
            background: linear-gradient(90deg, var(--saffron), #ffffff, var(--green));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 16px rgba(0,0,0,0.3);
        }

        .tricolor-divider-long {
            width: 40%;
            height: 5px;
            margin: 10px auto 25px;
            border-radius: 5px;
            background: linear-gradient(90deg, var(--saffron) 0%, #ffffff 50%, var(--green) 100%);
            box-shadow: 0 4px 16px rgba(0,0,0,0.25);
        }

        .section-text {
            font-size: clamp(16px, 2.5vw, 18px);
            line-height: 1.7;
            color: #e2e8f0;
            opacity: 0.9;
        }
        
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .gallery-grid img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 12px;
            border: 3px solid var(--glass);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .gallery-grid img:hover {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0, 200, 255, 0.3);
        }
        
        .quotes-container {
            display: grid;
            gap: 25px;
            margin-top: 20px;
        }

        .quote-card {
            background: var(--glassDeep);
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid var(--saffron);
        }

        .quote-text {
            font-size: 1.2rem;
            font-style: italic;
            color: var(--light);
            margin: 0;
            line-height: 1.5;
        }

        .quote-author {
            font-size: 1rem;
            font-weight: 700;
            text-align: right;
            margin: 10px 0 0;
            color: var(--green);
        }
        /* ======== END OF NEW STYLES ======== */

        /* Mobile tweaks */
        @media (max-width: 600px) {
            .app-header { height: 58px; }
            .hero { padding: 78px 12px 70px; }
            .card {
                width: 90vw; /* Wider card on mobile */
                padding: 20px 14px 14px;
                max-height: 80vh;
            }
            .form-title { font-size: 1.6rem; letter-spacing: 1.5px; }
            label { font-size: 0.9rem; }
            .submit-btn { font-size: 1rem; }
            .content-section { padding: 40px 16px; margin: 20px auto; }
        }

        /* Motion-reduction accessibility */
        @media (prefers-reduced-motion: reduce) {
            .hero *, .modal *, .balloon { animation: none !important; transition: none !important; }
        }
    </style>
</head>

<body>
    <header class="app-header">
        <div class="brand">
            <span class="flag">🇮🇳</span>
            Independence Day
        </div>
        <div class="nav-mini">Aug 15</div>
    </header>

    <main class="hero" role="main">
        <div class="balloons" aria-hidden="true">
            <div class="balloon b1"></div>
            <div class="balloon b2"></div>
            <div class="balloon b3"></div>
            <div class="balloon b4"></div>
            <div class="balloon b5"></div>
            <div class="balloon b6"></div>
            <div class="balloon b7"></div>
            <div class="balloon b8"></div>
        </div>

        <div class="hero-inner">
            <h1 class="hello">Hello Indian</h1>
            <div class="tagline">Let’s celebrate our freedom</div>
            <button class="cta" id="cta-btn" aria-haspopup="dialog" aria-controls="auth-modal">
                Create your Independence Day card
            </button>
        </div>
    </main>
    
    <!-- ========== NEW CONTENT SECTIONS START HERE ========== -->

    <!-- ========== History Section ========== -->
    <section class="content-section">
        <h2 class="section-title">The Story of Our Freedom</h2>
        <div class="tricolor-divider-long"></div>
        <p class="section-text">
            Indian Independence Day is celebrated annually on 15 August as a national holiday in India commemorating the nation's independence from the United Kingdom on 15 August 1947. On this day, the provisions of the 1947 Indian Independence Act, which transferred legislative sovereignty to the Indian Constituent Assembly, came into effect. The struggle for freedom was a long and arduous one, marked by the sacrifices of countless freedom fighters who envisioned a sovereign, socialist, secular, and democratic republic.
        </p>
    </section>

    <!-- ========== Gallery Section ========== -->
    <section class="content-section">
        <h2 class="section-title">Moments of Pride</h2>
        <div class="tricolor-divider-long"></div>
        <div class="gallery-grid">
            <img src="https://i.pinimg.com/736x/9b/80/a5/9b80a570d9081fe7c481e23b57bbc3f2.jpg" alt="India Gate">
            <img src="https://images.unsplash.com/photo-1524492412937-b28074a5d7da?q=80&w=2071" alt="Taj Mahal">
            <img src="https://i.pinimg.com/736x/df/c4/0d/dfc40d103600eae557f20efa8b21c822.jpg" alt="Indian Flag">
            <img src="https://i.pinimg.com/736x/01/fe/99/01fe9905e9f0193ecd3ebe400e7880d2.jpg" alt="Hawa Mahal">
            <img src="https://i.pinimg.com/736x/86/28/1a/86281ab87d686130446f63b5050dc8d4.jpg" alt="Bharat mata">
            <img src="https://i.pinimg.com/736x/e2/66/72/e26672e22a2c4582b4cdc704b890216f.jpg" alt="Indian forces">
        </div>
    </section>
    
    <!-- ========== Quotes Section ========== -->
    <section class="content-section">
        <h2 class="section-title">Words that Echo</h2>
        <div class="tricolor-divider-long"></div>
        <div class="quotes-container">
            <div class="quote-card">
                <p class="quote-text">"Freedom is not given, it is taken."</p>
                <p class="quote-author">- Subhas Chandra Bose</p>
            </div>
            <div class="quote-card">
                <p class="quote-text">"A 'No' uttered from the deepest conviction is better than a 'Yes' merely uttered to please, or worse, to avoid trouble."</p>
                <p class="quote-author">- Mahatma Gandhi</p>
            </div>
        </div>
    </section>

    <!-- ========== NEW CONTENT SECTIONS END HERE ========== -->

    <div class="modal" id="auth-modal" role="dialog" aria-modal="true" aria-labelledby="form-title">
        <div class="card" role="document">
            <button class="close-x" id="modal-close" aria-label="Close">×</button>

            <span class="emoji-flag" aria-hidden="true">🇮🇳</span>
            <div class="form-title" id="form-title">Login</div>
            <div class="tricolor-divider"></div>

            <form id="login-form" autocomplete="off">
                <label for="name" id="label-name" style="display:none;">Full Name</label>
                <input type="text" id="name" placeholder="Full Name (for registration)" style="display:none;" autocomplete="name" />

                <label for="mobile" id="label-mobile">Mobile or Username</label>
                <input type="text" id="mobile" placeholder="Mobile or Username" required autocomplete="username" />

                <label for="password" id="label-password">Password</label>
                <input type="password" id="password" placeholder="Password" required autocomplete="current-password" />

                <label for="place" id="label-place" style="display:none;">Place</label>
                <input type="text" id="place" placeholder="Place (for registration)" style="display:none;" autocomplete="address-level2" />

                <button type="submit" class="submit-btn" id="submit-btn">Login</button>
            </form>

            <div class="toggle-link" id="toggle-link">Create an account</div>
            <div class="indicator" id="indicator" aria-live="polite"></div>
        </div>
    </div>
    
    <footer class="app-footer">
        Made with <span class="heart">❤</span> for India • <span class="jaihind">Jai Hind!</span>
    </footer>

    <script>
        // Initialize Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyCMCWn8o0OniygpKCqwN77zcDRZ8RTFZ0M",
            authDomain: "independence-day-aug-15-57ad2.firebaseapp.com",
            projectId: "independence-day-aug-15-57ad2",
            storageBucket: "independence-day-aug-15-57ad2.appspot.com",
            messagingSenderId: "445722804560",
            appId: "1:445722804560:web:3e3571d865e4ead1076c55"
        };
        firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const db = firebase.firestore();

        // Elements
        const modal = document.getElementById('auth-modal');
        const openModalBtn = document.getElementById('cta-btn');
        const closeModalBtn = document.getElementById('modal-close');

        const formTitle = document.getElementById('form-title');
        const toggleLink = document.getElementById('toggle-link');
        const submitBtn = document.getElementById('submit-btn');
        const indicator = document.getElementById('indicator');
        const nameInput = document.getElementById('name');
        const labelName = document.getElementById('label-name');
        const mobileInput = document.getElementById('mobile');
        const passwordInput = document.getElementById('password');
        const placeInput = document.getElementById('place');
        const labelPlace = document.getElementById('label-place');
        const loginForm = document.getElementById('login-form');

        let isLogin = true;

        function openModal() {
            modal.classList.add('show');
            setTimeout(() => mobileInput.focus(), 50);
        }

        function closeModal() {
            modal.classList.remove('show');
            indicator.textContent = '';
            loginForm.reset();
            if (!isLogin) toggleView();
        }

        // Toggle Login/Register UI
        function toggleView() {
            isLogin = !isLogin;
            formTitle.textContent = isLogin ? 'Login' : 'Register';
            submitBtn.textContent = isLogin ? 'Login' : 'Register';
            toggleLink.textContent = isLogin ? 'Create an account' : 'Already have an account? Login';

            const showExtra = !isLogin;
            nameInput.style.display = showExtra ? 'block' : 'none';
            labelName.style.display = showExtra ? 'block' : 'none';
            placeInput.style.display = showExtra ? 'block' : 'none';
            labelPlace.style.display = showExtra ? 'block' : 'none';

            passwordInput.setAttribute('autocomplete', isLogin ? 'current-password' : 'new-password');
        }

        // Open/Close modal handlers
        openModalBtn.addEventListener('click', openModal);
        closeModalBtn.addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('show')) closeModal();
        });

        // Toggle link
        toggleLink.addEventListener('click', toggleView);

        // Form Submit Handler
        loginForm.addEventListener('submit', async (e) => {
            e.preventDefault();

            const name = nameInput.value.trim();
            const mobile = mobileInput.value.trim();
            const password = passwordInput.value.trim();
            const place = placeInput.value.trim();

            if (!mobile || !password) {
                indicator.textContent = "Mobile and password are required.";
                indicator.style.color = "#ff9933";
                return;
            }

            const fakeEmail = mobile + "@example.com";
            indicator.innerHTML = "⏳ Processing...";

            if (isLogin) {
                auth.signInWithEmailAndPassword(fakeEmail, password)
                    .then(() => {
                        indicator.textContent = "✅ Login successful! Redirecting...";
                        indicator.style.color = "#138808";
                        setTimeout(() => window.location.href = "hello.html", 900);
                    })
                    .catch(err => {
                        indicator.textContent = "❌ " + err.message;
                        indicator.style.color = "#ff9933";
                        console.error("Login Error:", err);
                    });
            } else {
                if (!name || !place) {
                    indicator.textContent = "All fields are required for registration.";
                    indicator.style.color = "#ff9933";
                    return;
                }
                auth.createUserWithEmailAndPassword(fakeEmail, password)
                    .then(userCred => {
                        return db.collection("users").doc(userCred.user.uid).set({
                            name,
                            mobile,
                            place,
                            createdAt: firebase.firestore.FieldValue.serverTimestamp()
                        });
                    })
                    .then(() => {
                        indicator.textContent = "🎉 Account created! Redirecting...";
                        indicator.style.color = "#138808";
                        setTimeout(() => window.location.href = "hello.html", 900);
                    })
                    .catch(err => {
                        indicator.textContent = "❌ " + err.message;
                        indicator.style.color = "#ff9933";
                        console.error("Register Error:", err);
                    });
            }
        });
    </script>
</body>
</html>